{"version":3,"sources":["recoil/effects.ts","recoil/atoms.ts","utils/helpers.ts","utils/hooks.ts","components/FlipRoot.tsx","components/Sparkles.tsx","images/statue-icon.png","components/CallToActionBar.tsx","constants.ts","components/DeleteButton.tsx","images/movie-poster.png","components/Poster.tsx","components/NominatedMovie.tsx","components/NominationsList.tsx","components/ResetButton.tsx","components/Spotlights.tsx","components/SuccessBar.tsx","components/Footer.tsx","components/Search.tsx","images/awards.svg","components/Header.tsx","utils/memoize.ts","utils/omdb.ts","recoil/selectors.ts","components/DismissButton.tsx","components/ErrorBoundary.tsx","components/NominateButton.tsx","components/Ratings.tsx","components/Ribbon.tsx","components/MovieDetailsModal.tsx","components/GithubCorner.tsx","components/MovieCard.tsx","components/MoviePage.tsx","components/MovieList.tsx","components/App.tsx","index.tsx"],"names":["key","hiddenListState","atom","default","nominationListState","effects_UNSTABLE","setSelf","onSet","savedValue","localStorage","getItem","JSON","parse","newValue","DefaultValue","removeItem","setItem","stringify","range","start","end","step","output","undefined","i","push","random","min","max","Math","floor","useSearchTerm","location","useLocation","URLSearchParams","search","get","useSelectedMovieId","useHomepagePath","searchTerm","encodeURIComponent","FlipRoot","props","hiddenList","useRecoilValue","selectedMovieId","flipKey","join","className","portalKey","spring","children","Sparkles","color","disabled","useState","map","generateSparkle","sparkles","setSparkles","callback","minDelay","maxDelay","timeoutId","useRef","savedCallback","useEffect","current","handleTick","nextTickAt","window","setTimeout","clearTimeout","useCallback","useRandomInterval","sparkle","now","Date","nextSparkles","filter","sp","createdAt","Sparkle","size","style","id","width","height","viewBox","fill","d","String","top","left","marginTop","marginLeft","CallToActionBar","src","statueIcon","alt","DeleteButton","onClick","event","preventDefault","getXYS","element","x","y","rect","getBoundingClientRect","getTransform","s","Poster","clickable","empty","flipId","movie","tooltip","useSpring","xys","config","mass","tension","friction","springProps","set","PosterGlimmer","image","moviePoster","tip","title","year","to","data-tip","div","onMouseMove","currentTarget","clientX","clientY","onMouseLeave","transform","interpolate","rx","ry","NominatedMovie","setHiddenList","useSetRecoilState","setNominationsList","movieId","ReactTooltip","rebuild","data-testid","nominationList","NominationsList","list","placeholders","length","ResetButton","setNominationList","Spotlights","SuccessBar","Footer","place","type","effect","aria-haspopup","Search","value","setValue","history","useHistory","useLayoutEffect","onSubmit","query","trim","replace","placeholder","aria-label","onChange","e","target","Header","awards","isPromise","obj","memoize","fn","cache","Object","create","args","result","then","console","warn","API_KEY","SEARCH_URL","omdbAPICall","params","a","param","url","URL","searchParams","append","fetch","toString","response","ok","message","status","error","Error","json","getSearchResults","term","page","data","imdbID","Title","Year","getMovieDetails","plot","rottenTomatoRating","Ratings","find","rating","Source","rated","Rated","released","Released","runtime","Runtime","genre","Genre","director","Director","writer","Writer","actors","Actors","Plot","language","Language","country","Country","Awards","rottenTomatoes","parseInt","Value","metascore","Metascore","Number","imdbRating","imdbVotes","Type","dvd","DVD","boxoffice","BoxOffice","production","Production","website","Website","omdbSearchQuery","selectorFamily","filteredSearchQuery","waitForAll","includes","omdbMovieDetails","DismissButton","path","ErrorBoundary","state","hasError","this","fallback","React","Component","NominateButton","allowUnnominate","useRecoilState","nominationsList","nominated","some","scoreColor","Ribbon","MovieDetailsModal","movieIdRef","isOpen","MovieDetailsModalFallback","MovieDetailsModalContent","homepagePath","closeTimeoutMS","overlayClassName","onRequestClose","Boolean","GithubCorner","href","aria-hidden","transformOrigin","MovieCard","onIntersect","useInView","ref","inView","role","TitleGlimmer","MoviePage","MoviePageFallback","MoviePageContent","results","index","MovieList","MovieListContent","pages","setPages","moviePages","handleIntersect","App","ReactModal","setAppElement","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc6e2ad5.chunk.js","sourcesContent":["import { AtomEffect, DefaultValue } from 'recoil';\n\nexport const localStorageEffect = <T>(key: string): AtomEffect<T> => ({ setSelf, onSet }) => {\n  const savedValue = localStorage.getItem(key);\n  if (savedValue != null) {\n    setSelf(JSON.parse(savedValue));\n  }\n\n  onSet((newValue) => {\n    // DefaultValue is used by Recoil when state is reset.\n    if (newValue instanceof DefaultValue) {\n      localStorage.removeItem(key);\n    } else {\n      localStorage.setItem(key, JSON.stringify(newValue));\n    }\n  });\n};\n","import { atom } from 'recoil';\n\nimport { Movie } from '../utils/omdb';\nimport { localStorageEffect } from './effects';\n\nexport const inputState = atom<string>({\n  key: 'inputState',\n  default: '',\n});\n\nexport const hiddenListState = atom<string[]>({\n  key: 'hiddenListState',\n  default: [],\n});\n\nexport const nominationListState = atom<Movie[]>({\n  key: 'nominationListState',\n  default: [],\n  effects_UNSTABLE: [localStorageEffect('nominationListState')],\n});\n\nexport const selectedState = atom({\n  key: 'selectedState',\n  default: [],\n});\n","// Credit: https://www.joshwcomeau.com/snippets/javascript/range/\nexport function range(start: number, end?: number, step = 1) {\n  let output = [];\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  }\n  for (let i = start; i < end; i += step) {\n    output.push(i);\n  }\n  return output;\n}\n\n// Credit: https://www.joshwcomeau.com/snippets/javascript/random/\nexport function random(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n","import { useCallback, useEffect, useRef } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { random } from './helpers';\n\nexport function useSearchTerm() {\n  const location = useLocation();\n  const query = new URLSearchParams(location.search).get('q');\n\n  return query || '';\n}\n\nexport function useSelectedMovieId() {\n  const location = useLocation();\n  const movieId = new URLSearchParams(location.search).get('movie');\n\n  return movieId || '';\n}\n\nexport function useHomepagePath() {\n  const searchTerm = useSearchTerm();\n\n  return searchTerm ? `/?q=${encodeURIComponent(searchTerm)}` : '/';\n}\n\n// Credit to: https://www.joshwcomeau.com/react/animated-sparkles-in-react/\nexport function useRandomInterval(callback: () => void, minDelay: number, maxDelay: number) {\n  const timeoutId = useRef<number | undefined>();\n  const savedCallback = useRef(callback);\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  });\n\n  useEffect(() => {\n    let isEnabled = typeof minDelay === 'number' && typeof maxDelay === 'number';\n    if (isEnabled) {\n      const handleTick = () => {\n        const nextTickAt = random(minDelay, maxDelay);\n        timeoutId.current = window.setTimeout(() => {\n          savedCallback.current();\n          handleTick();\n        }, nextTickAt);\n      };\n\n      handleTick();\n    }\n    return () => window.clearTimeout(timeoutId.current);\n  }, [minDelay, maxDelay]);\n\n  const cancel = useCallback(function () {\n    window.clearTimeout(timeoutId.current);\n  }, []);\n\n  return cancel;\n}\n","import React from 'react';\nimport { Flipper } from 'react-flip-toolkit';\nimport { useRecoilValue } from 'recoil';\n\nimport { hiddenListState } from '../recoil/atoms';\nimport { useSearchTerm, useSelectedMovieId } from '../utils/hooks';\n\ntype Props = {\n  children?: React.ReactNode;\n  className?: string;\n};\n\nexport function FlipRoot(props: Props) {\n  const hiddenList = useRecoilValue(hiddenListState);\n  const searchTerm = useSearchTerm();\n  const selectedMovieId = useSelectedMovieId();\n  const flipKey = [...hiddenList, searchTerm, selectedMovieId].join();\n\n  return (\n    <Flipper className={props.className} flipKey={flipKey} portalKey=\"root\" spring=\"stiff\">\n      {props.children}\n    </Flipper>\n  );\n}\n","import React, { useState } from 'react';\n\nimport { useRandomInterval } from '../utils/hooks';\nimport { random, range } from '../utils/helpers';\n\nimport './Sparkles.css';\n\nconst DEFAULT_COLOR = '#FFC700';\n\ntype Props = {\n  color?: string;\n  children?: React.ReactNode;\n  className?: string;\n  disabled?: boolean;\n};\n\n// Credit to: https://www.joshwcomeau.com/react/animated-sparkles-in-react/\nexport function Sparkles({\n  color = DEFAULT_COLOR,\n  children,\n  className = '',\n  disabled = false,\n  ...props\n}: Props) {\n  const [sparkles, setSparkles] = useState(() => {\n    return range(3).map(() => generateSparkle(color));\n  });\n\n  useRandomInterval(\n    () => {\n      if (!disabled) {\n        const sparkle = generateSparkle(color);\n        const now = Date.now();\n        const nextSparkles = sparkles.filter((sp) => {\n          const delta = now - sp.createdAt;\n          return delta < 750;\n        });\n        nextSparkles.push(sparkle);\n        setSparkles(nextSparkles);\n      }\n    },\n    50,\n    450,\n  );\n\n  return (\n    <div className={`sparkle-wrapper ${className}`} {...props}>\n      {children}\n\n      {!disabled &&\n        sparkles.map((sparkle) => (\n          <Sparkle\n            key={sparkle.id}\n            color={sparkle.color}\n            size={sparkle.size}\n            style={sparkle.style}\n          />\n        ))}\n    </div>\n  );\n}\n\ntype SparkleProps = {\n  color: string;\n  size: number;\n  style: React.CSSProperties;\n};\n\nfunction Sparkle({ color, size, style }: SparkleProps) {\n  const path =\n    'M26.5 25.5C19.0043 33.3697 0 34 0 34C0 34 19.1013 35.3684 26.5 43.5C33.234 50.901 34 68 34 68C34 68 36.9884 50.7065 44.5 43.5C51.6431 36.647 68 34 68 34C68 34 51.6947 32.0939 44.5 25.5C36.5605 18.2235 34 0 34 0C34 0 33.6591 17.9837 26.5 25.5Z';\n\n  return (\n    <div className=\"sparkle-svg-wrapper\" style={style}>\n      <svg className=\"sparkle-svg\" width={size} height={size} viewBox=\"0 0 68 68\" fill=\"none\">\n        <path d={path} fill={color} />\n      </svg>\n    </div>\n  );\n}\n\nfunction generateSparkle(color: string) {\n  const size = random(10, 20);\n\n  return {\n    id: String(random(1000000, 9999999)),\n    createdAt: Date.now(),\n    color,\n    size,\n    style: {\n      top: random(0, 100) + '%',\n      left: random(0, 100) + '%',\n      marginTop: -size / 2,\n      marginLeft: -size / 2,\n    },\n  };\n}\n","export default __webpack_public_path__ + \"static/media/statue-icon.00d75cf4.png\";","import { MAX_NOMINATIONS } from '../constants';\nimport { Sparkles } from './Sparkles';\n\nimport statueIcon from '../images/statue-icon.png';\n\nimport './CallToActionBar.css';\n\nexport function CallToActionBar() {\n  return (\n    <div className=\"call-to-action-bar\">\n      <img className=\"statue\" src={statueIcon} alt=\"awards statue\" />\n      <Sparkles>\n        <p className=\"text\">\n          Welcome to the home of the Shoppies! Select{' '}\n          <span className=\"number\">{MAX_NOMINATIONS}</span> movies you'd like to nominate to receive\n          a Shoppies award!\n        </p>\n      </Sparkles>\n    </div>\n  );\n}\n","export const MAX_NOMINATIONS = 5;\n","import './DeleteButton.css';\n\ntype Props = {\n  className?: string;\n  onClick: () => void;\n};\n\nexport function DeleteButton(props: Props) {\n  const { className = '', onClick } = props;\n\n  function handleClick(event: React.MouseEvent<HTMLButtonElement>) {\n    // Prevent showing movie details.\n    event.preventDefault();\n\n    onClick();\n  }\n\n  return (\n    <button className={`delete-button ${className}`} onClick={handleClick}>\n      âœ•\n    </button>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/movie-poster.26c42fab.png\";","import React from 'react';\nimport ContentLoader from 'react-content-loader';\nimport { Flipped } from 'react-flip-toolkit';\nimport { Link } from 'react-router-dom';\nimport { useSpring, animated } from 'react-spring';\n\nimport { useSearchTerm } from '../utils/hooks';\nimport { Movie } from '../utils/omdb';\n\nimport moviePoster from '../images/movie-poster.png';\n\nimport './Poster.css';\n\ntype Props = {\n  children?: React.ReactNode;\n  clickable?: boolean;\n  empty?: boolean;\n  flipId?: string;\n  movie?: Movie;\n  tooltip?: boolean;\n};\n\ntype XYS = readonly [number, number, number];\n\n// Credit for 3D card effect: https://codesandbox.io/embed/rj998k4vmm\nfunction getXYS(element: HTMLElement, x: number, y: number): XYS {\n  const rect = element.getBoundingClientRect();\n  y -= rect.y;\n  x -= rect.x;\n\n  return [-(y - rect.height / 2) / 25, (x - rect.width / 2) / 25, 1.04];\n}\n\nfunction getTransform(x: number, y: number, s: number) {\n  return `perspective(1000px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`;\n}\n\nexport function Poster({\n  children,\n  clickable = true,\n  empty = false,\n  flipId,\n  movie,\n  tooltip = false,\n}: Props) {\n  const searchTerm = useSearchTerm();\n\n  const [springProps, set] = useSpring<{ xys: XYS }>(() => ({\n    xys: [0, 0, 1] as const,\n    config: { mass: 5, tension: 350, friction: 40 },\n  }));\n\n  if (empty || !movie) {\n    return <div className={`poster ${empty ? 'empty' : ''}`}>{!empty && <PosterGlimmer />}</div>;\n  }\n\n  const src = movie.image !== 'N/A' ? movie.image : moviePoster;\n  const tip = tooltip ? `${movie.title} (${movie.year})` : undefined;\n\n  // Change flipId when showing details so there is an animation.\n  return (\n    <Flipped flipId={flipId || movie.id}>\n      {clickable ? (\n        <Link\n          to={`/?q=${encodeURIComponent(searchTerm)}&movie=${encodeURIComponent(movie.id)}`}\n          className=\"poster\"\n          data-tip={tip}\n        >\n          <animated.div\n            className=\"poster-inner\"\n            onMouseMove={(event) =>\n              set({ xys: getXYS(event.currentTarget, event.clientX, event.clientY) })\n            }\n            onMouseLeave={() => set({ xys: [0, 0, 1] })}\n            style={{ transform: springProps.xys.interpolate(getTransform as any) }}\n          >\n            <img src={src} alt={movie.title} />\n            {children}\n          </animated.div>\n        </Link>\n      ) : (\n        <div className=\"poster\" data-tip={tip}>\n          <div className=\"poster-inner\">\n            <img src={src} alt={movie.title} />\n            {children}\n          </div>\n        </div>\n      )}\n    </Flipped>\n  );\n}\n\nfunction PosterGlimmer() {\n  return (\n    <ContentLoader width=\"100%\" height=\"100%\">\n      <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"100%\" height=\"100%\" />\n    </ContentLoader>\n  );\n}\n","import React, { useEffect } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport { useSetRecoilState } from 'recoil';\n\nimport { hiddenListState, nominationListState } from '../recoil/atoms';\nimport { Movie } from '../utils/omdb';\nimport { DeleteButton } from './DeleteButton';\nimport { Poster } from './Poster';\n\nimport './NominatedMovie.css';\n\ntype Props = {\n  movie?: Movie;\n};\n\nexport function NominatedMovie(props: Props) {\n  const setHiddenList = useSetRecoilState(hiddenListState);\n  const setNominationsList = useSetRecoilState(nominationListState);\n  const { movie } = props;\n  const movieId = movie?.id;\n\n  useEffect(() => {\n    ReactTooltip.rebuild();\n  }, [movie]);\n\n  function handleUnnominateMovie() {\n    setHiddenList((hiddenList) => hiddenList.filter((id) => id !== movieId));\n    setNominationsList((nominationList) => nominationList.filter(({ id }) => id !== movieId));\n  }\n\n  return (\n    <div className=\"nominated-movie\" data-testid={movieId}>\n      {movie ? (\n        <Poster movie={movie} tooltip={true}>\n          <DeleteButton onClick={handleUnnominateMovie} />\n        </Poster>\n      ) : (\n        <Poster empty={true} />\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport { useRecoilValue } from 'recoil';\n\nimport { MAX_NOMINATIONS } from '../constants';\nimport { nominationListState } from '../recoil/atoms';\nimport { NominatedMovie } from './NominatedMovie';\nimport { Sparkles } from './Sparkles';\n\nimport './NominationsList.css';\n\nexport function NominationsList() {\n  const list = useRecoilValue(nominationListState);\n  const placeholders = [];\n\n  for (let i = 0; i < MAX_NOMINATIONS - list.length; i++) {\n    placeholders.push(<NominatedMovie key={i} />);\n  }\n\n  return (\n    <div className=\"nominations-list\">\n      {list.map((movie) => {\n        return list.length === MAX_NOMINATIONS ? (\n          <Sparkles>\n            <NominatedMovie movie={movie} key={movie.id} />\n          </Sparkles>\n        ) : (\n          <NominatedMovie movie={movie} key={movie.id} />\n        );\n      })}\n      {placeholders}\n    </div>\n  );\n}\n","import { useSetRecoilState } from 'recoil';\nimport { hiddenListState, nominationListState } from '../recoil/atoms';\n\nimport './ResetButton.css';\n\nexport function ResetButton() {\n  const setHiddenList = useSetRecoilState(hiddenListState);\n  const setNominationList = useSetRecoilState(nominationListState);\n\n  function handleReset() {\n    // Reset all hidden movies and nominations.\n    setHiddenList([]);\n    setNominationList([]);\n  }\n  return (\n    <div className=\"center-reset-button\">\n      <button className=\"reset-button\" onClick={handleReset}>\n        Reset\n      </button>\n    </div>\n  );\n}\n","import './Spotlights.css';\n\nexport function Spotlights() {\n  return (\n    <>\n      <div className=\"spotlight spotlight-1\"></div>\n      <div className=\"spotlight spotlight-2\"></div>\n    </>\n  );\n}\n","import { Spotlights } from './Spotlights';\n\nimport './SuccessBar.css';\n\nexport function SuccessBar() {\n  return (\n    <div className=\"success-bar\">\n      <p className=\"success-text\">\n        You've completed your nominations!<span className=\"star\">ðŸ’«</span>\n      </p>\n      <Spotlights />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport { useRecoilValue } from 'recoil';\n\nimport { MAX_NOMINATIONS } from '../constants';\nimport { nominationListState } from '../recoil/atoms';\n\nimport { CallToActionBar } from './CallToActionBar';\nimport { NominationsList } from './NominationsList';\nimport { ResetButton } from './ResetButton';\nimport { SuccessBar } from './SuccessBar';\n\nimport './Footer.css';\n\nexport function Footer() {\n  const list = useRecoilValue(nominationListState);\n\n  return (\n    <>\n      <div className={list.length === MAX_NOMINATIONS ? 'footer complete' : 'footer'}>\n        {!list.length ? (\n          <CallToActionBar />\n        ) : (\n          <>\n            {list.length === MAX_NOMINATIONS && <SuccessBar />}\n            <NominationsList />\n            {list.length === MAX_NOMINATIONS && <ResetButton />}\n          </>\n        )}\n      </div>\n\n      {list.length > 0 && (\n        // Only render tooltip once nominated movies are present so styles are injected\n        // at the right time.\n        <ReactTooltip place=\"top\" type=\"dark\" effect=\"solid\" aria-haspopup=\"true\" />\n      )}\n    </>\n  );\n}\n","import React, { useLayoutEffect, useState } from 'react';\nimport { useSetRecoilState } from 'recoil';\nimport { useHistory } from 'react-router-dom';\n\nimport { hiddenListState } from '../recoil/atoms';\nimport { useSearchTerm } from '../utils/hooks';\n\nimport './Search.css';\n\nexport function Search() {\n  const setHiddenList = useSetRecoilState(hiddenListState);\n  const searchTerm = useSearchTerm();\n  const [value, setValue] = useState(searchTerm);\n  let history = useHistory();\n\n  // Change input value to match search term when browser navigation occurs\n  useLayoutEffect(() => {\n    setValue(searchTerm);\n  }, [searchTerm]);\n\n  function handleSetSearchTerm(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n\n    setHiddenList([]);\n\n    const query = value.trim().replace(/\\s+/g, ' ');\n    history.push(`/?q=${encodeURIComponent(query)}`);\n  }\n\n  return (\n    <form className=\"search-field\" onSubmit={handleSetSearchTerm}>\n      <input\n        type=\"text\"\n        placeholder=\"Enter the title of a movie\"\n        value={value}\n        aria-label=\"search term input\"\n        onChange={(e) => setValue(e.target.value)}\n      />\n      <button\n        className=\"button-submit\"\n        type=\"submit\"\n        disabled={!value.trim()}\n        aria-label=\"submit search\"\n      >\n        Search\n      </button>\n    </form>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/awards.87a30b8c.svg\";","import { Flipped } from 'react-flip-toolkit';\n\nimport { useSearchTerm } from '../utils/hooks';\nimport { Search } from './Search';\nimport { Sparkles } from './Sparkles';\n\nimport awards from '../images/awards.svg';\n\nimport './Header.css';\n\nexport function Header() {\n  const searchTerm = useSearchTerm();\n\n  return (\n    <div className={`header ${searchTerm ? 'center-children-shift' : 'center-children'}`}>\n      <div className=\"side-item\">\n        <Flipped flipId=\"awards\">\n          <Sparkles disabled={!!searchTerm}>\n            <img className=\"awards\" alt=\"scene of awards ceremony\" src={awards} />\n          </Sparkles>\n        </Flipped>\n        <Flipped flipId=\"title\">\n          <h1 className=\"title\">the shoppies</h1>\n        </Flipped>\n      </div>\n      <Flipped flipId=\"search-input\">\n        <div className=\"search-container\">\n          <Search />\n        </div>\n      </Flipped>\n      <div className=\"side-item\"></div>\n    </div>\n  );\n}\n","function isPromise(obj: any): obj is Promise<any> {\n  return obj != null && typeof obj === 'object' && typeof obj['then'] === 'function';\n}\n\nexport function memoize<P extends any[], R>(fn: (...args: P) => R) {\n  const cache: Record<string, R> = Object.create(null);\n\n  return (...args: P) => {\n    const key = JSON.stringify(args);\n\n    if (key in cache) {\n      return cache[key];\n    }\n\n    const result = fn(...args);\n    cache[key] = result;\n\n    if (isPromise(result)) {\n      result.then(null, () => {\n        console.warn('Ejecting from memoize cache:', key);\n        delete cache[key];\n      });\n    }\n\n    return result;\n  };\n}\n","import { memoize } from './memoize';\n\nconst API_KEY = '7030d0e8';\nconst SEARCH_URL = 'https://www.omdbapi.com';\n\ninterface SearchData {\n  Error?: string;\n  Search: SearchMovie[];\n}\n\ninterface SearchMovie {\n  imdbID: string;\n  Title: string;\n  Year: string;\n  Poster: string;\n}\n\ninterface SearchMovieDetails extends SearchMovie {\n  Error?: string;\n  Rated: string;\n  Released: string;\n  Runtime: string;\n  Genre: string;\n  Director: string;\n  Writer: string;\n  Actors: string;\n  Plot: string;\n  Language: string;\n  Country: string;\n  Awards: string;\n  Ratings: SearchMovieRating[];\n  Metascore: string;\n  imdbRating: string;\n  imdbVotes: string;\n  Type: string;\n  DVD: string;\n  BoxOffice: string;\n  Production: string;\n  Website: string;\n}\n\ninterface SearchMovieRating {\n  Source: string;\n  Value: string;\n}\n\nexport interface Movie {\n  id: string;\n  title: string;\n  year: string;\n  image: string;\n}\n\nexport interface MovieDetails extends Movie {\n  rated?: string;\n  released?: string;\n  runtime?: string;\n  genre?: string;\n  director?: string;\n  writer?: string;\n  actors?: string;\n  plot?: string;\n  language: string;\n  country: string;\n  awards: string;\n  rottenTomatoes?: number;\n  metascore?: number;\n  imdbRating?: number;\n  imdbVotes: string;\n  type: string;\n  dvd: string;\n  boxoffice: string;\n  production: string;\n  website: string;\n}\n\nasync function omdbAPICall(params: Record<string, string>) {\n  const url = new URL(SEARCH_URL);\n  url.searchParams.append('apikey', API_KEY);\n  url.searchParams.append('type', 'movie');\n\n  for (const param in params) {\n    url.searchParams.append(param, params[param]);\n  }\n\n  const response = await fetch(url.toString());\n\n  if (!response.ok) {\n    const message = `An error has occured: ${response.status}`;\n    console.error(message);\n    throw new Error(message);\n  }\n\n  return await response.json();\n}\n\nexport const getSearchResults = memoize(\n  async (term: string, page: number = 1): Promise<Movie[]> => {\n    if (!term) {\n      return [];\n    }\n\n    const params = { s: term, page: String(page) };\n    const data: SearchData = await omdbAPICall(params);\n\n    if (!data.Search) {\n      return [];\n    }\n\n    return data.Search.map((movie) => {\n      return {\n        id: movie.imdbID,\n        title: movie.Title,\n        year: movie.Year,\n        image: movie.Poster,\n      };\n    });\n  },\n);\n\nexport const getMovieDetails = memoize(\n  async (id: string): Promise<MovieDetails | null> => {\n    if (!id) {\n      return null;\n    }\n\n    const params = { i: id, plot: 'short' };\n    const data: SearchMovieDetails = await omdbAPICall(params);\n\n    if (data.Error) {\n      console.error(data.Error);\n      return null;\n    }\n\n    // Rotten Tomatoes rating does not have its own property\n    const rottenTomatoRating = data.Ratings.find((rating) => rating.Source === 'Rotten Tomatoes');\n\n    return {\n      id: data.imdbID,\n      title: data.Title,\n      year: data.Year,\n      rated: data.Rated !== 'N/A' ? data.Rated : undefined,\n      released: data.Released !== 'N/A' ? data.Released : undefined,\n      runtime: data.Runtime !== 'N/A' ? data.Runtime : undefined,\n      genre: data.Genre !== 'N/A' ? data.Genre : undefined,\n      director: data.Director !== 'N/A' ? data.Director : undefined,\n      writer: data.Writer !== 'N/A' ? data.Writer : undefined,\n      actors: data.Actors !== 'N/A' ? data.Actors : undefined,\n      plot: data.Plot !== 'N/A' ? data.Plot : undefined,\n      language: data.Language,\n      country: data.Country,\n      awards: data.Awards,\n      image: data.Poster,\n      rottenTomatoes: rottenTomatoRating && parseInt(rottenTomatoRating.Value),\n      metascore: data.Metascore !== 'N/A' ? Number(data.Metascore) : undefined,\n      imdbRating: data.imdbRating !== 'N/A' ? Number(data.imdbRating) : undefined,\n      imdbVotes: data.imdbVotes,\n      type: data.Type,\n      dvd: data.DVD,\n      boxoffice: data.BoxOffice,\n      production: data.Production,\n      website: data.Website,\n    };\n  },\n);\n","import { selectorFamily, waitForAll } from 'recoil';\n\nimport { getSearchResults, getMovieDetails } from '../utils/omdb';\nimport { hiddenListState } from './atoms';\n\ntype SearchParams = {\n  query: string;\n  page: number;\n};\n\nexport const omdbSearchQuery = selectorFamily({\n  key: 'omdbSearchQuery',\n  get: (params: SearchParams) => () => getSearchResults(params.query, params.page),\n});\n\nexport const filteredSearchQuery = selectorFamily({\n  key: 'filteredSearchQuery',\n  get: (params: SearchParams) => ({ get }) => {\n    // waitForAll used to track multiple dependences in recoil\n    const [list, hiddenList] = get(waitForAll([omdbSearchQuery(params), hiddenListState]));\n\n    return list.filter((movie) => !hiddenList.includes(movie.id));\n  },\n});\n\nexport const omdbMovieDetails = selectorFamily({\n  key: 'omdbMovieDetails',\n  get: (id: string | null) => () => (id ? getMovieDetails(id) : null),\n});\n","import { useHistory } from 'react-router-dom';\n\nimport { useHomepagePath } from '../utils/hooks';\nimport { DeleteButton } from './DeleteButton';\n\nimport './DismissButton.css';\n\nexport function DismissButton() {\n  const path = useHomepagePath();\n  const history = useHistory();\n\n  function handleClick() {\n    history.push(path);\n  }\n\n  return <DeleteButton className=\"dismiss-button\" onClick={handleClick} />;\n}\n","import React from 'react';\n\ntype Props = {\n  children: React.ReactNode;\n  fallback: React.ReactNode;\n};\n\n// Source: https://reactjs.org/docs/concurrent-mode-suspense.html#handling-errors\nexport class ErrorBoundary extends React.Component<Props> {\n  state = {\n    hasError: false,\n    error: null,\n  };\n\n  static getDerivedStateFromError(error: any) {\n    return {\n      hasError: true,\n      error,\n    };\n  }\n\n  render() {\n    return this.state.hasError ? this.props.fallback : this.props.children;\n  }\n}\n","import { useRecoilState, useSetRecoilState } from 'recoil';\n\nimport { MAX_NOMINATIONS } from '../constants';\nimport { hiddenListState, nominationListState } from '../recoil/atoms';\nimport { Movie } from '../utils/omdb';\nimport { Sparkles } from './Sparkles';\n\nimport './NominateButton.css';\n\ntype Props = {\n  allowUnnominate?: boolean;\n  movie: Movie;\n};\n\nexport function NominateButton(props: Props) {\n  const { allowUnnominate, movie } = props;\n  const [nominationsList, setNominationsList] = useRecoilState(nominationListState);\n  const setHiddenList = useSetRecoilState(hiddenListState);\n  const movieId = movie.id;\n  const nominated = nominationsList.some((obj) => obj.id === movieId);\n\n  function handleNominate(event: React.MouseEvent<HTMLButtonElement>) {\n    // Prevent opening movie details.\n    event.preventDefault();\n\n    if (!nominated) {\n      setNominationsList((nominationsList) => [...nominationsList, props.movie]);\n      setHiddenList((hiddenList) => [...hiddenList, movieId]);\n    } else if (allowUnnominate) {\n      setHiddenList((hiddenList) => hiddenList.filter((id) => id !== movieId));\n      setNominationsList((nominationsList) => nominationsList.filter(({ id }) => id !== movieId));\n    }\n  }\n\n  if (nominated && nominationsList.length === MAX_NOMINATIONS) {\n    return null;\n  }\n\n  return (\n    <Sparkles disabled={nominated} className=\"nominate-button\">\n      <button disabled={nominated && !allowUnnominate} onClick={handleNominate}>\n        {!nominated ? 'Nominate!' : allowUnnominate ? 'Remove' : 'Nominated'}\n      </button>\n    </Sparkles>\n  );\n}\n","import { MovieDetails } from '../utils/omdb';\n\nimport './Ratings.css';\n\ntype Props = {\n  movie: MovieDetails;\n};\n\nconst scoreColor = (metascore: number) => {\n  if (metascore >= 80) {\n    return 'green';\n  } else if (metascore <= 60) {\n    return 'red';\n  } else {\n    return 'yellow';\n  }\n};\n\nexport function Ratings(props: Props) {\n  const { imdbRating, metascore, rottenTomatoes } = props.movie;\n\n  return (\n    <div className=\"ratings\">\n      {rottenTomatoes && (\n        <div className=\"ratings-score\">\n          <span className={rottenTomatoes >= 60 ? 'tomato-icon' : 'splat-icon'} />\n          {rottenTomatoes}%\n        </div>\n      )}\n      {imdbRating && (\n        <div className=\"ratings-score\">\n          <span className=\"imdb-logo\" />\n          {imdbRating}/10\n        </div>\n      )}\n      {metascore && (\n        <div className=\"ratings-score\">\n          <span className={`metacritic-score ${scoreColor(metascore)}`}>{metascore}</span>{' '}\n          Metacritic\n        </div>\n      )}\n    </div>\n  );\n}\n","import './Ribbon.css';\n\nexport function Ribbon() {\n  return (\n    <div className=\"ribbon ribbon-top-right\">\n      <span>NOMINATED</span>\n    </div>\n  );\n}\n","import React, { Suspense, useEffect, useRef } from 'react';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport ReactModal from 'react-modal';\nimport { useRecoilValue } from 'recoil';\n\nimport { MAX_NOMINATIONS } from '../constants';\nimport { omdbMovieDetails } from '../recoil/selectors';\nimport { nominationListState } from '../recoil/atoms';\nimport { useHomepagePath, useSelectedMovieId } from '../utils/hooks';\nimport { DismissButton } from './DismissButton';\nimport { ErrorBoundary } from './ErrorBoundary';\nimport { NominateButton } from './NominateButton';\nimport { Poster } from './Poster';\nimport { Ratings } from './Ratings';\nimport { Ribbon } from './Ribbon';\n\nimport './MovieDetailsModal.css';\n\ntype Props = {\n  isOpen: boolean;\n  movieId: string | null;\n};\n\nexport function MovieDetailsModal() {\n  const movieId = useSelectedMovieId();\n  const movieIdRef = useRef(movieId);\n  const nominationsList = useRecoilValue(nominationListState);\n  const isOpen = !!movieId && nominationsList.length < MAX_NOMINATIONS;\n\n  // Store movieId in movieIdRef to allow modal to fade out when closed\n  useEffect(() => {\n    if (movieId) {\n      movieIdRef.current = movieId;\n    }\n  }, [movieId]);\n\n  return (\n    <ErrorBoundary fallback={<Redirect to=\"/\" />}>\n      <Suspense fallback={<MovieDetailsModalFallback />}>\n        <MovieDetailsModalContent isOpen={isOpen} movieId={movieId || movieIdRef.current} />\n      </Suspense>\n    </ErrorBoundary>\n  );\n}\n\nfunction MovieDetailsModalContent(props: Props) {\n  const { isOpen, movieId } = props;\n  const history = useHistory();\n  const homepagePath = useHomepagePath();\n  const movie = useRecoilValue(omdbMovieDetails(movieId));\n  const nominationsList = useRecoilValue(nominationListState);\n  const nominated = nominationsList.some((obj) => obj.id === movieId);\n\n  if (!movie) {\n    // Redirect to homepage if movie details not found\n    return <Redirect to={homepagePath} />;\n  }\n\n  return (\n    <ReactModal\n      className={nominated ? 'nominated modal' : 'modal'}\n      closeTimeoutMS={400}\n      isOpen={isOpen}\n      overlayClassName=\"overlay\"\n      onRequestClose={() => history.push(homepagePath)}\n    >\n      {nominated && <Ribbon />}\n\n      <div className=\"column\">\n        <div className=\"movie-details\">\n          <h2 className=\"title\">\n            {movie.title} <span className=\"year\">({movie.year})</span>\n          </h2>\n          <div className=\"supporting-details\">\n            {[movie.rated, movie.runtime, movie.genre, movie.released].filter(Boolean).join(' | ')}\n          </div>\n        </div>\n        <Ratings movie={movie} />\n        <div>\n          <div className=\"plot\">\n            {movie.plot && (\n              <p>\n                <strong>Summary:</strong> {movie.plot}\n              </p>\n            )}\n            {movie.director && (\n              <p>\n                <strong>Director:</strong> {movie.director}\n              </p>\n            )}\n            {movie.writer && (\n              <p>\n                <strong>Writer:</strong> {movie.writer}\n              </p>\n            )}\n            {movie.actors && (\n              <p>\n                <strong>Actors:</strong> {movie.actors}\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column\">\n        <DismissButton />\n        <Poster clickable={false} movie={movie}></Poster>\n        <NominateButton allowUnnominate={true} movie={movie} />\n      </div>\n    </ReactModal>\n  );\n}\n\nfunction MovieDetailsModalFallback() {\n  return null;\n}\n","import './GithubCorner.css';\n\nexport function GithubCorner() {\n  return (\n    // Source: https://tholman.com/github-corners/\n    <a\n      href=\"https://github.com/nicolleromero/shoppies_app\"\n      className=\"github-corner\"\n      aria-label=\"View source on GitHub\"\n    >\n      <svg\n        width=\"100%\"\n        height=\"100%\"\n        viewBox=\"0 0 250 250\"\n        style={{\n          fill: '#151513',\n          color: '#fff',\n        }}\n        aria-hidden=\"true\"\n      >\n        <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path>\n        <path\n          d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"\n          fill=\"currentColor\"\n          style={{ transformOrigin: '130px 106px' }}\n          className=\"octo-arm\"\n        ></path>\n        <path\n          d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"\n          fill=\"currentColor\"\n          className=\"octo-body\"\n        ></path>\n      </svg>\n    </a>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { useSetRecoilState } from 'recoil';\nimport ContentLoader from 'react-content-loader';\nimport { useInView } from 'react-intersection-observer';\n\nimport { Movie } from '../utils/omdb';\nimport { DeleteButton } from './DeleteButton';\nimport { NominateButton } from './NominateButton';\nimport { Poster } from './Poster';\n\nimport { hiddenListState } from '../recoil/atoms';\n\nimport './MovieCard.css';\n\ntype Props = {\n  movie?: Movie;\n  onIntersect?: () => void;\n};\n\nexport function MovieCard(props: Props) {\n  const { movie, onIntersect } = props;\n  const setHiddenList = useSetRecoilState(hiddenListState);\n  const { ref, inView } = useInView();\n\n  useEffect(() => {\n    if (inView && onIntersect) {\n      onIntersect();\n    }\n  }, [inView, onIntersect]);\n\n  if (!movie) {\n    return (\n      <div className=\"movie\" role=\"listitem\">\n        <Poster />\n        <div className=\"movie-title\">\n          <TitleGlimmer />\n        </div>\n      </div>\n    );\n  }\n\n  let movieId = movie.id;\n\n  function handleHideMovie() {\n    setHiddenList((hiddenList) => [...hiddenList, movieId]);\n  }\n\n  return (\n    <div className=\"movie\" role=\"listitem\" data-testid={movie.title} ref={ref}>\n      <Poster movie={movie}>\n        <DeleteButton onClick={handleHideMovie} />\n        <NominateButton movie={movie} />\n      </Poster>\n      <div className=\"movie-title\">\n        {movie.title} ({movie.year})\n      </div>\n    </div>\n  );\n}\n\nfunction TitleGlimmer() {\n  return (\n    <ContentLoader width=\"100%\" height=\"36\">\n      <rect x=\"0\" y=\"0\" rx=\"2\" ry=\"2\" width=\"100%\" height=\"14\" />\n      <rect x=\"0\" y=\"20\" rx=\"2\" ry=\"2\" width=\"100%\" height=\"14\" />\n    </ContentLoader>\n  );\n}\n","import React, { Suspense } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { useRecoilValue } from 'recoil';\n\nimport { filteredSearchQuery } from '../recoil/selectors';\nimport { range } from '../utils/helpers';\nimport { ErrorBoundary } from './ErrorBoundary';\nimport { MovieCard } from './MovieCard';\n\nimport './MovieList.css';\n\ntype Props = {\n  query: string;\n  page: number;\n  onIntersect?: () => void;\n};\n\nexport function MoviePage(props: Props) {\n  const { page } = props;\n\n  return (\n    <ErrorBoundary fallback={page === 1 ? <Redirect to=\"/\" /> : null}>\n      <Suspense fallback={<MoviePageFallback />}>\n        <MoviePageContent {...props} />\n      </Suspense>\n    </ErrorBoundary>\n  );\n}\n\nfunction MoviePageContent(props: Props) {\n  const { query, page, onIntersect } = props;\n  const results = useRecoilValue(filteredSearchQuery({ query, page }));\n\n  if (!props.query && !results.length) {\n    return null;\n  }\n\n  return (\n    <>\n      {results.length ? (\n        results.map((movie, index) => (\n          <MovieCard\n            movie={movie}\n            key={movie.id}\n            onIntersect={index === 0 ? onIntersect : undefined}\n          />\n        ))\n      ) : props.page === 1 ? (\n        <p className=\"no-results-message\" role=\"listitem\">\n          We weren't able to find any movies that match that title. Please modify your search and\n          try again.\n        </p>\n      ) : null}\n    </>\n  );\n}\n\nfunction MoviePageFallback() {\n  return (\n    <>\n      {range(8).map((i) => (\n        <MovieCard key={i} />\n      ))}\n    </>\n  );\n}\n","import React, { useState } from 'react';\n\nimport { useSearchTerm } from '../utils/hooks';\nimport { MoviePage } from './MoviePage';\n\nimport './MovieList.css';\n\nexport function MovieList() {\n  const query = useSearchTerm();\n\n  // Use key to reset the number of pages state.\n  // https://stackoverflow.com/a/21750576\n  return <MovieListContent key={query} query={query} />;\n}\n\nfunction MovieListContent(props: { query: string }) {\n  const [pages, setPages] = useState(1);\n  const moviePages = [];\n\n  function handleIntersect() {\n    setPages(pages + 1);\n  }\n\n  for (let i = 1; i <= pages; i++) {\n    moviePages.push(\n      <MoviePage\n        key={i}\n        page={i}\n        query={props.query}\n        onIntersect={i === pages ? handleIntersect : undefined}\n      />,\n    );\n  }\n\n  return (\n    <div className=\"grid-container\" role=\"list\">\n      {moviePages}\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { FlipRoot } from './FlipRoot';\nimport { Footer } from './Footer';\nimport { Header } from './Header';\nimport { MovieDetailsModal } from './MovieDetailsModal';\nimport { GithubCorner } from './GithubCorner';\nimport { MovieList } from './MovieList';\n\nexport default function App() {\n  return (\n    <FlipRoot>\n      <GithubCorner />\n      <div>\n        <Header />\n        <MovieList />\n      </div>\n\n      <Footer />\n\n      <MovieDetailsModal />\n    </FlipRoot>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactModal from 'react-modal';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { RecoilRoot } from 'recoil';\n\nimport './index.css';\nimport App from './components/App';\n\nReactModal.setAppElement('#root');\n\nReactDOM.render(\n  <Router>\n    <RecoilRoot>\n      <App />\n    </RecoilRoot>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}